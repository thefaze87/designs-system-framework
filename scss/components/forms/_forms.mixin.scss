// Base Functions
@use '../../base/functions/rem-em' as *;

// Base Mixins
@use '../../base/mixins/display' as *;

// Base Variables
@use '../../base/variables' as *;

%input-reset {
	display: block;
	outline: none;
	margin: 0;
	resize: none;
}

// Input Basics Mixin
%input-basics {
	position: relative;
	height: get-rem(36);
	width: 100%;
	font: {
		family: $primary-font;
		style: normal;
		weight: 400;
		size: get-rem(16);
	}
	line-height: 150%; // Same as 24px
	color: var(--input-text-color, var(--scorp-black));
	background-color: var(--input-bg-color, var(--white));
	padding: {
		top: get-rem(6);
		right: get-rem(8);
		bottom: get-rem(6);
		left: get-rem(8);
	}
	border: {
		width: 1px;
		style: solid;
		color: var(--input-border-color, var(--scorp-gray3));
		radius: $border-radius;
	}
	box-shadow: none;
	transition: border-color $transition-default, color $transition-default, background-color $transition-default;
}

// Input Disable
%input-disable {
	opacity: 0.5;
	pointer-events: none;
}

// Input Helper Text
%input-helper {
	@include flex-display($justify-content: flex-start, $align-items: flex-start, $gap: #{get-rem(8)});
	font-size: #{get-rem(12)};
	line-height: 1;
	color: var(--input-helper-text-color, var(--text));
	margin-top: #{get-rem(8)};

	> svg {
		color: var(--input-helper-svg-color, var(--scorp-gray3));
	}
}

// Input SVG Position - Right
%input-svg-pos-right {
	position: absolute;
	top: 50%;
	right: #{get-rem(11)};
	height: #{get-rem(18)};
	width: #{get-rem(18)};
	transform: translateY(-50%);
	line-height: 1;
	color: var(--input-icon-color, var(--scorp-gray2));
	z-index: 1;
	font-size: #{get-rem(18)};
}

// Input SVG Position - Left
%input-svg-pos-left {
	position: absolute;
	top: 50%;
	right: #{get-rem(11)};
	height: #{get-rem(18)};
	width: #{get-rem(18)};
	transform: translateY(-50%);
	line-height: 1;
	color: var(--input-icon-color, var(--scorp-gray2));
	z-index: 1;
	font-size: #{get-rem(18)};
}

// Stealth Specific Basics Mixin
// WIP
%stealth-basics {
	position: relative;
	height: get-rem(36);
	width: 100%;
	font: {
		family: $primary-font;
		style: normal;
		weight: 400;
		size: get-rem(16);
	}
	line-height: 150%; // Same as 24px
	color: var(--input-text-color, var(--scorp-black));
	background-color: var(--input-bg-color, var(--white));
	padding: {
		top: get-rem(6);
		right: get-rem(8);
		bottom: get-rem(6);
		left: get-rem(8);
	}
	border: {
		width: 1px;
		style: solid;
		color: var(--input-border-color, var(--scorp-gray3));
		radius: $border-radius;
	}
	box-shadow: none;
	transition: border-color $transition-default, color $transition-default, background-color $transition-default;
}

// Select Placeholder (arrow)
%select-before {
	content: '';
	position: absolute;
	top: 50%;
	right: get-rem(12);
	width: get-rem(8);
	height: get-rem(8);
	pointer-events: none;
	background: {
	  	// @todo: Image to resolve and decouple - Based 64 Encoded for Temp
	  	// image: url(/cms/svg/site/icon_caret.36.86898F.svg);
	  	image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMzYgMzYiPgo8c3R5bGU+CglnIHBhdGggeyBzdHJva2U6IG5vbmU7IH0KPC9zdHlsZT4KPGcgY2xhc3M9InJvb3QiIGlkPSJjYXJldCIgZGF0YS1uYW1lPSJDYXJldCIgZmlsbD0iIzg2ODk4RiIgc3Ryb2tlPSIjODY4OThGIj4KCTxwYXRoIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZD0iTTIxLjYxMyAyOS43MjdhNC41MTEgNC41MTEgMCAwIDEtNi4yMzEgMC45NjVhNC40MzggNC40MzggMCAwIDEtMC45ODMtMC45NjVsLTEzLjU0NS0xOC4yOThhNC4zMzMgNC4zMzMgMCAwIDEgMC45ODMtNi4xMjJhNC41MTUgNC41MTUgMCAwIDEgMi42MjItMC44MzdoMjcuMDgyYTQuNDE5IDQuNDE5IDAgMCAxIDQuNDYgNC4zODNhNC4zMzMgNC4zMzMgMCAwIDEtMC44NTEgMi41NzZaIiAvPgo8L2c+Cjwvc3ZnPg==);
		position: center center;
		repeat: no-repeat;
		size: cover;
	}
	z-index: 1;
	transform: translateY(-50%);
}

// Input Mark Placeholders
%replace-label {
	display: inline-block;
	height: get-rem(24);
	width: get-rem(24);
	position: relative;
	flex: 0 0 auto;
	cursor: pointer;
	border: {
		style: solid;
		width: 2px;
		color: var(--input-border-color);
	}
	background-color: var(--input-background);
	transition: opacity $transition-default, border-color $transition-default, background-color $transition-default, box-shadow $transition-default;
	box-shadow: var(--input-shadow);
}

// Additional Input Mark Types
%custom-marks {
	height: #{get-rem(24)};
	width: #{get-rem(24)};
	display: block;
	font-size: #{get-rem(24)};
	margin-bottom: 0;
	cursor: pointer;

	&.small {
		width: #{get-rem(15)};
		height: #{get-rem(15)};
	}

	&::before,
	&::after {
		content: '';
		position: absolute;
		height: 100%;
		width: 100%;
		top: 0;
		left: 0;
		transition: opacity $transition-default;
		opacity: 0;
		background-color: transparent;
		background-size: auto;
		background-repeat: no-repeat;
		box-shadow: none;
		transform: none;
	}

	&::before {
		opacity: 1;
	  // @todo: Image to resolve and decouple
	  background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMzYgMzYiPgo8c3R5bGU+CglnIHBhdGggeyBzdHJva2U6IG5vbmU7IH0KPC9zdHlsZT4KPGcgY2xhc3M9InJvb3QiIGlkPSJzdGFyX291dGxpbmUiIGRhdGEtbmFtZT0iU3RhciBPdXRsaW5lIiBmaWxsPSIjQkNCRUM3IiBzdHJva2U9IiNCQ0JFQzciPgoJPHBhdGggZD0iTTI3LjY2NSAzNS4yMjhhMi4zNjcgMi4zNjcgMCAwIDEtMS4xMDUtMC4yNzRsLTcuODIyLTQuMTEyYTEuNTc4IDEuNTc4IDAgMCAwLTEuNDcgMGwtMS44MDQgMC45NDZhMS41NzggMS41NzggMCAwIDEtMS40Ny0yLjc5NmwxLjgwNC0wLjk0NmE0LjczMyA0LjczMyAwIDAgMSA0LjQwNSAwbDYuNDA3IDMuMzdsLTEuMjI1LTcuMTM1YTQuNzMzIDQuNzMzIDAgMCAxIDEuMzYyLTQuMTlsNS4xODMtNS4wNDhsLTcuMTYzLTEuMDQxYTQuNzMzIDQuNzMzIDAgMCAxLTMuNTY0LTIuNTlsLTMuMjA0LTYuNDkxbC0zLjIwNCA2LjQ5MWE0LjczMyA0LjczMyAwIDAgMS0zLjU2NSAyLjU5bC03LjE2MyAxLjA0MWw1LjE4MyA1LjA0OGE0LjczMyA0LjczMyAwIDAgMSAxLjM2MiA0LjE5bC0xLjQ5NCA4LjcwOWExLjU3OCAxLjU3OCAwIDAgMS0zLjExMi0wLjUzNGwxLjQ5NC04LjcwOWExLjU3OCAxLjU3OCAwIDAgMC0wLjQ1NC0xLjM5NmwtNi4zMjktNi4xNjdhMi4zNjcgMi4zNjcgMCAwIDEgMS4zMTItNC4wMzlsOC43NDUtMS4yNzJhMS41NzggMS41NzggMCAwIDAgMS4xODktMC44NjRMMTUuODggMi4wOTNhMi4zNjcgMi4zNjcgMCAwIDEgNC4yNDYgMGwzLjkxMyA3LjkyN2ExLjU3OCAxLjU3OCAwIDAgMCAxLjE4OCAwLjg2Mmw4Ljc0NSAxLjI3MmEyLjM2NyAyLjM2NyAwIDAgMSAxLjMxMiA0LjAzN2wtNi4zMjkgNi4xNjlhMS41NzggMS41NzggMCAwIDAtMC40NTMgMS4zOTZsMS40OTQgOC43MDlBMi4zNjcgMi4zNjctMTM0Ni4yNyAwIDEgMjcuNjY1IDM1LjIyOFoiIC8+CjwvZz4KPC9zdmc+);
	}

	&::after {
	  // @todo: Image to resolve and decouple
	  background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMzYgMzYiPgo8c3R5bGU+CglnIHBhdGggeyBzdHJva2U6IG5vbmU7IH0KPC9zdHlsZT4KPGcgY2xhc3M9InJvb3QiIGlkPSJzdGFyX2ZpbGwiIGRhdGEtbmFtZT0iU3RhciBGaWxsIiBmaWxsPSIjZWRhZTAzIiBzdHJva2U9IiNlZGFlMDMiPgoJPHBhdGggZD0iTTI4LjExMiAzNi4wNDFjLTAuMTggMC0wLjU0MSAwLTAuNzIxLTAuMThMMTguMDIxIDMxLjM1NmwtOS4xOTEgNC41MDVjLTAuNTQxIDAuMzYtMS4yNjEgMC4xOC0xLjgwMi0wLjE4Yy0wLjU0MS0wLjM2LTAuOTAxLTEuMDgxLTAuNzIxLTEuODAybDEuMjYxLTEwLjYzMkwwLjU0MSAxNS40OThDMCAxNC45NTctMC4xOCAxNC4yMzYgMCAxMy42OTZjMC4xOC0wLjcyMSAwLjcyMS0xLjA4MSAxLjQ0Mi0xLjI2MWwxMC4wOTItMS45ODJsNC44NjYtOS4zNzFjMC4zNi0wLjkwMSAxLjQ0Mi0xLjI2MSAyLjM0My0wLjcyMWMwLjM2IDAuMTggMC43MjEgMC41NDEgMC43MjEgMC43MjFsNC44NjYgOS4zNzFsMTAuMDkyIDEuOTgyYzAuNzIxIDAuMTggMS4yNjEgMC41NDEgMS40NDIgMS4yNjFjMC4xOCAwLjcyMSAwIDEuNDQyLTAuMzYgMS44MDJsLTcuMDI4IDcuNzQ5bDEuMjYxIDEwLjYzMmMwIDAuNzIxLTAuMTggMS40NDItMC43MjEgMS44MDJDMjguODMzIDM1Ljg2MSAyOC40NzMgMzYuMDQxIDI4LjExMiAzNi4wNDF6IiAvPgo8L2c+Cjwvc3ZnPg==);
	}

	&:hover {
		&::before {
			opacity: 0;
		}
		&::after {
			opacity: 1;
		}
	}
}

// Toggle placeholders
%toggle-label {
	position: relative;
	cursor: pointer;
	width: get-em(42);
	height: get-em(24);
	transition: background-color $transition-default;
	border-radius: get-em(12);
	background-color: var(--input-background, var(--scorp-gray3));
	box-shadow: none;
}

/*
************************************************************************************
Input Suggest Mixin/Placeholder Styles
************************************************************************************
*/
// Suggest Tags
%suggest-tags {
	display: inline-flex;
	align-items: center;
	gap: #{get-rem(6)};
	color: var(--tag-accent, var(--gray6));
	background-color: var(--tag-primary, var(--scorp-gray2));
	border-radius: 9999px;
	padding: {
		top: #{get-rem(2)};
		right: #{get-rem(8)};
		bottom: #{get-rem(2)};
		left: #{get-rem(8)};
	}
	line-height: #{get-rem(22)};
	font-size: #{get-rem(14)};
	font-weight: 500;

	& .text {
		list-style: none;
		display: inline-block;
	}
}

%suggest-focus {
	.input-suggest {
		input[type='search'] {
			z-index: 6;
		}
		&:before {
			z-index: 7;
		}
	}
	.suggestions {
		z-index: 5;
	}
}
